# yaml-language-server: $schema=https://raw.githubusercontent.com/jesseduffield/lazygit/master/schema/config.json

# Custom config overriding commands with graphite equivalents

customCommands:
  - key: c
    description: Graphite create stack
    command: 'graphite create -m "{{index .PromptResponses 0}}"'
    # I can't find how to trigger this while in the staging view
    context: files
    prompts:
      - type: input
        title: "Commit Message"
        initialValue: ""
    loadingText: creating stack...

  # TODO: Breaks when stack contains merged PRs -> triggers prompt in cli -> triggers prompt in cli
  - key: P
    description: Graphite submit stack
    command: "graphite submit --stack --web=false"
    context: global
    loadingText: "submitting stack..."

  - key: A
    description: Graphite modify commit
    command: graphite modify
    context: commits
